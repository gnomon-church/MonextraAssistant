(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),i=n.n(a),r=n(19),s=n.n(r),l=(n(106),n(30)),o=n(13),d=n(216),u=n(220);n(107),n(78);function j(){Object(a.useEffect)((function(){document.title="Home - Mona"}),[]);var e=Object(o.f)();return Object(c.jsx)("div",{id:"card-deck-set",children:Object(c.jsx)(d.a,{children:Object(c.jsx)(u.a,{onClick:function(){e.push("/isimenu")},className:"card-list",style:{width:"18rem"},children:Object(c.jsxs)(u.a.Body,{children:[Object(c.jsx)(u.a.Title,{children:"ISI Management"}),Object(c.jsx)(u.a.Text,{children:"Manage the ISI stock."})]})})})})}var b=n(219),h=n(222);function x(e){var t=Object(o.f)();return"true"===e.proceed?Object(c.jsxs)(b.a,{bg:"danger",expand:"lg",children:[Object(c.jsx)(h.a,{variant:"dark",onClick:function(){t.push(e.from)},children:"Back"}),Object(c.jsx)(h.a,{variant:"success",onClick:function(){t.push(e.to)},children:e.label})]}):"false"===e.proceed?Object(c.jsx)(b.a,{bg:"danger",expand:"lg",children:Object(c.jsx)(h.a,{variant:"dark",onClick:function(){t.push(e.from)},children:"Back"})}):void 0}function O(){Object(a.useEffect)((function(){document.title="ISI Management - Mona"}),[]);var e=Object(o.f)();return Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{proceed:"false",from:"/"}),Object(c.jsxs)("div",{id:"card-deck-set",children:[Object(c.jsxs)(d.a,{children:[Object(c.jsx)(u.a,{onClick:function(){e.push("/isireceive")},className:"card-list",style:{width:"18rem",cursor:"pointer"},children:Object(c.jsxs)(u.a.Body,{children:[Object(c.jsx)(u.a.Title,{children:"Receive"}),Object(c.jsx)(u.a.Text,{children:"Receive shipments of ISI books."})]})}),Object(c.jsx)(u.a,{onClick:function(){e.push("isisignout")},className:"card-list",style:{width:"18rem",cursor:"pointer"},children:Object(c.jsxs)(u.a.Body,{children:[Object(c.jsx)(u.a.Title,{children:"Sign Out"}),Object(c.jsx)(u.a.Text,{children:"Sign ISI books out of the safe"})]})})]}),Object(c.jsx)("br",{}),Object(c.jsxs)(d.a,{children:[Object(c.jsx)(u.a,{onClick:function(){e.push("isireport")},className:"card-list",style:{width:"18rem",cursor:"pointer"},children:Object(c.jsxs)(u.a.Body,{children:[Object(c.jsx)(u.a.Title,{children:"Reports"}),Object(c.jsx)(u.a.Text,{children:"Generate and view various ISI reports"})]})}),Object(c.jsx)(u.a,{onClick:function(){e.push("isimanage")},className:"card-list",style:{width:"18rem",cursor:"pointer"},children:Object(c.jsxs)(u.a.Body,{children:[Object(c.jsx)(u.a.Title,{children:"Manage"}),Object(c.jsx)(u.a.Text,{children:"Manage ISI book types"})]})})]})]})]})}var m=n(15),p=n(218),f=n(217),k=n(221),v=n(39),g=n(27),_=n.n(g),y=(n(147),n(148),{game_id:"",ticket_value:"",ticket_name:"",book_value:"",current_game:!0});function C(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!0),s=Object(m.a)(r,2),l=s[0],o=s[1],d=Object(a.useState)(null),u=Object(m.a)(d,2),j=u[0],b=u[1],O=Object(a.useState)(!1),g=Object(m.a)(O,2),C=g[0],S=g[1],w=Object(a.useState)(!1),I=Object(m.a)(w,2),N=I[0],T=I[1],R=Object(a.useRef)(),B=function(){return S(!1)},D=function(){return S(!0)},M=function(){return T(!1)},A={cellControlButtons:function(e){return Object(c.jsxs)("span",{children:[Object(c.jsx)(h.a,{variant:"outline-secondary",size:"sm",onClick:function(){var t=R.current.getDisplayedRowAtIndex(e.node.rowIndex).data;y.game_id=t.game_id,y.ticket_value=t.ticket_value,y.book_value=t.book_value,y.ticket_name=t.ticket_name,y.current_game=t.current_game,D()},children:"Edit"})," ",Object(c.jsx)(h.a,{variant:"outline-secondary",size:"sm",onClick:function(){b(e.node.rowIndex),T(!0)},children:"Delete"})]})}};function F(){_.a.get("/api/isi-game-types-download").then((function(e){return e.data.rows})).then((function(e){return e.map((function(e){return{game_id:e.game_id,ticket_value:e.ticket_value,ticket_name:e.ticket_name,book_value:e.book_value,current_game:e.current_game}}))})).then((function(e){return i(e)})).then((function(){return R.current.hideOverlay()})).then((function(){return o(!1)}))}function H(e){var t=/^[0-9]*$/.exec(e.target.value);null!==t?(e.target.value=t[0],y[e.target.name]=e.target.value):e.target.value=y[e.target.name]}Object(a.useEffect)((function(){document.title="Manage ISI Types - Mona",F()}),[]);var G=function(){return null!==j?Object(c.jsx)("span",{children:Object(c.jsxs)("i",{children:[R.current.getDisplayedRowAtIndex(j).data.ticket_value," ",R.current.getDisplayedRowAtIndex(j).data.ticket_name," ","(",R.current.getDisplayedRowAtIndex(j).data.game_id,")"]})}):Object(c.jsx)("span",{children:"UNKOWN"})};return Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{proceed:"false",from:"/isimenu"}),Object(c.jsx)("div",{className:"add-isi-button",children:Object(c.jsx)(h.a,{variant:"outline-danger",onClick:l?null:D,children:l?"Loading...":"Add ISI Game"})}),Object(c.jsxs)(p.a,{show:C,onHide:B,backdrop:"static",keyboard:!1,children:[Object(c.jsx)(p.a.Header,{children:Object(c.jsx)(p.a.Title,{children:"ISI Game Details"})}),Object(c.jsxs)(p.a.Body,{children:[Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:"Game Number"})}),Object(c.jsx)(k.a,{type:"text",onChange:H,name:"game_id",placeholder:y.game_id})]}),Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsxs)(f.a.Prepend,{children:[Object(c.jsx)(f.a.Text,{children:"Ticket Value"}),Object(c.jsx)(f.a.Text,{children:"$"})]}),Object(c.jsx)(k.a,{type:"text",onChange:H,name:"ticket_value",defaultValue:y.ticket_value})]}),Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsxs)(f.a.Prepend,{children:[Object(c.jsx)(f.a.Text,{children:"Book Value"}),Object(c.jsx)(f.a.Text,{children:"$"})]}),Object(c.jsx)(k.a,{type:"text",onChange:H,name:"book_value",defaultValue:y.book_value})]}),Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:"Ticket Name"})}),Object(c.jsx)(k.a,{type:"text",onChange:function(e){y[e.target.name]=e.target.value},name:"ticket_name",defaultValue:y.ticket_name})]}),Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:"Current Game?"})}),Object(c.jsx)(f.a.Append,{children:Object(c.jsx)(f.a.Checkbox,{defaultChecked:y.current_game,onChange:function(e){return function(e){y.current_game=e.target.checked}(e)}})})]})]}),Object(c.jsxs)(p.a.Footer,{children:[Object(c.jsx)(h.a,{variant:"secondary",onClick:function(){y={game_id:"",ticket_value:"",ticket_name:"",book_value:"",current_game:!0},B()},children:"Close"}),Object(c.jsx)(h.a,{variant:"success",onClick:function(){B(),o(!0),R.current.showLoadingOverlay(),y.ticket_name=y.ticket_name.toUpperCase(),_.a.post("/api/isi-game-types-upload",y).then((function(){return F()})).then(y={game_id:"",ticket_value:"",ticket_name:"",book_value:"",current_game:!0})},children:"Save"})]})]}),Object(c.jsxs)(p.a,{show:N,onHide:M,backdrop:"static",keyboard:!1,children:[Object(c.jsx)(p.a.Header,{children:Object(c.jsx)(p.a.Title,{children:"Delete Game?"})}),Object(c.jsxs)(p.a.Body,{children:["Are you sure you want to delete the ",Object(c.jsx)(G,{})," game?"]}),Object(c.jsxs)(p.a.Footer,{children:[Object(c.jsx)(h.a,{variant:"secondary",onClick:M,children:"Cancel"}),Object(c.jsx)(h.a,{variant:"danger",onClick:function(){M(),o(!0),R.current.showLoadingOverlay(),_.a.get("/api/isi-game-delete/"+R.current.getDisplayedRowAtIndex(j).data.game_id).then((function(){return F()})).then((function(){return b(null)}))},children:"Delete"})]})]}),Object(c.jsx)("div",{className:"ag-theme-alpine",style:{width:"100%"},children:Object(c.jsx)(v.AgGridReact,{domLayout:"autoHeight",columnDefs:[{headerName:"Game Number",field:"game_id",cellStyle:{"text-align":"center"},suppressMovable:!0,floatingFilter:!0,filter:!0,headerTooltip:"ISI game Number"},{headerName:"Ticket Value",field:"ticket_value",cellStyle:{"text-align":"center"},suppressMovable:!0,headerTooltip:"ISI ticket Value"},{headerName:"Ticket Name",field:"ticket_name",cellStyle:{"text-align":"center"},suppressMovable:!0,floatingFilter:!0,filter:!0,headerTooltip:"ISI ticket name"},{headerName:"Book Value",field:"book_value",cellStyle:{"text-align":"center"},suppressMovable:!0,headerTooltip:"ISI book value"},{headerName:"Current Game?",field:"current_game",colId:"params",cellRenderer:function(e){return"<input type='checkbox' disabled ".concat(e.value?"checked":""," />")},cellStyle:{"text-align":"center"},suppressMovable:!0,headerTooltip:"Is this a current ISI game?"},{headerName:"",field:"button_field",cellRenderer:"cellControlButtons",cellStyle:{"text-align":"right"},suppressMovable:!0}],defaultColDef:{sortable:!0},gridOptions:{suppressNoRowsOverlay:!0},rowData:n,animateRows:!0,onGridReady:function(e){R.current=e.api,R.current.sizeColumnsToFit()},frameworkComponents:A})})]})}var S=n(67),w=n.n(S),I=(n(90),""),N=[],T={shipment_id:"",date_received:""};function R(){var e=Object(o.f)(),t=Object(a.useState)(!1),n=Object(m.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(!1),l=Object(m.a)(s,2),d=l[0],u=l[1],j=Object(a.useState)(!1),x=Object(m.a)(j,2),O=x[0],g=x[1],y=Object(a.useState)(!1),C=Object(m.a)(y,2),S=C[0],R=C[1],B=Object(a.useState)(new Date),D=Object(m.a)(B,2),M=D[0],A=D[1],F=Object(a.useState)(!1),H=Object(m.a)(F,2),G=H[0],E=H[1],P=Object(a.useState)([]),$=Object(m.a)(P,2),V=$[0],L=($[1],Object(a.useRef)()),z=Object(a.useRef)(null),U=function(){return r(!1)},K=function(){return u(!1)},J=function(){return g(!1)},W=function(){return R(!1)};Object(a.useEffect)((function(){document.title="Receive ISI - Mona"}),[]);var Y=[{headerName:"Book Number",field:"book_number",valueFormatter:function(e){return e.value.replace(/(\d{4})(\d{6})(\d{3})(\d{1})/,"$1-$2-$3\u2022$4")}},{headerName:"Ticket Value",field:"ticket_value"},{headerName:"Ticket Name",field:"ticket_name"},{headerName:"",field:"button_field",cellRenderer:"cellControlButtons",cellStyle:{"text-align":"right"}}],q={cellControlButtons:function(e){return Object(c.jsx)("span",{children:Object(c.jsx)(h.a,{variant:"outline-secondary",size:"sm",onClick:function(){var t=L.current.getDisplayedRowAtIndex(e.node.rowIndex).data.book_number;N=N.filter((function(e){return e.book_number!==t})),L.current.setRowData(N)},children:"Remove"})})}};function Q(e){var t=/^[0-9]{4}/.exec(e);null!==t&&_.a.get("/api/isi-game-details/"+t[0]).then((function(e){return e.data.rows})).then((function(e){return e.map((function(e){return{ticket_value:e.ticket_value,ticket_name:e.ticket_name}}))})).then((function(t){N.push({book_number:e,ticket_name:t[0].ticket_name,ticket_value:t[0].ticket_value}),L.current.setRowData(N)})).catch((function(e){"not_exists"===e.response.data.err_type&&(I=t[0],g(!0))}))}return Object(c.jsxs)("div",{children:[Object(c.jsxs)(b.a,{bg:"danger",className:"justify-content-between",expand:"lg",children:[Object(c.jsx)(h.a,{variant:"dark",onClick:function(){e.push("/isimenu")},children:"Back"}),Object(c.jsx)(h.a,{variant:"success",onClick:function(){for(var e=/^[0-9]{4}/,t=/^[0-9]{4}([0-9]{6})/,n=[],c=0;c<N.length;c++){var a=e.exec(N[c].book_number)[0],i=t.exec(N[c].book_number)[1];n[c]={game_id:a,book_number:i}}_.a.post("/api/receive-isi-shipment/?shipment_id="+T.shipment_id,n).then((function(){return R(!0)})).then((function(){T={},N=[]}))},children:"Receive Shipment"})]}),Object(c.jsxs)(p.a,{show:i,onHide:U,backdrop:"static",keyboard:!1,children:[Object(c.jsx)(p.a.Header,{children:Object(c.jsx)(p.a.Title,{children:"Enter Shipment Details"})}),Object(c.jsxs)(p.a.Body,{children:[Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:"Received Date"})}),Object(c.jsx)(w.a,{className:"form-control",selected:M,dateFormat:"dd/MM/yyyy",onChange:function(e){return A(e)}})]}),Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:"Shipment ID"})}),Object(c.jsx)(k.a,{type:"text",onChange:function(e){var t=/^[0-9]*$/.exec(e.target.value);null!==t?(e.target.value=t[0],T[e.target.name]=e.target.value):e.target.value=T[e.target.name]},name:"shipment_id",defaultValue:T.shipment_id})]})]}),Object(c.jsxs)(p.a.Footer,{children:[Object(c.jsx)(h.a,{variant:"secondary",onClick:function(){T.shipment_id="",e.push("/isimenu")},children:"Cancel"}),Object(c.jsx)(h.a,{variant:"danger",onClick:G?null:function(){E(!0),T.date_received=M.getFullYear()+"-"+(M.getMonth()+1)+"-"+M.getDate(),_.a.post("/api/shipment-details-upload",T).then((function(){return r(!1)})).then((function(){return E(!1)})).catch((function(e){"already_exists"===e.response.data.err_type&&(U(),u(!0))}))},children:G?"Adding...":"Add Shipment"})]})]}),Object(c.jsxs)(p.a,{show:d,onHide:K,backdrop:"static",keyboard:!1,children:[Object(c.jsxs)(p.a.Body,{children:["Shipment ",Object(c.jsx)("i",{children:T.shipment_id})," has already been added. Would you like to edit this shipment instead?"]}),Object(c.jsxs)(p.a.Footer,{children:[Object(c.jsx)(h.a,{variant:"secondary",onClick:function(){K(),r(!0),E(!1)},children:"Cancel"}),Object(c.jsx)(h.a,{variant:"danger",onClick:K,children:"Edit"})]})]}),Object(c.jsxs)(p.a,{show:O,onHide:J,backdrop:"static",keyboard:!1,children:[Object(c.jsxs)(p.a.Body,{children:["Game number ",Object(c.jsx)("i",{children:I})," does not exist. Please add it into the system through the ",Object(c.jsx)("b",{children:"Manage"})," page."]}),Object(c.jsx)(p.a.Footer,{children:Object(c.jsx)(h.a,{variant:"danger",onClick:J,children:"Okay"})})]}),Object(c.jsxs)(p.a,{show:S,onHide:W,backdrop:"static",keyboard:!1,children:[Object(c.jsxs)(p.a.Body,{children:["Shipment ",Object(c.jsx)("i",{children:T.shipment_id})," has been received successfully"]}),Object(c.jsx)(p.a.Footer,{children:Object(c.jsx)(h.a,{variant:"danger",onClick:function(){W(),e.push("/isimenu")},children:"Okay"})})]}),Object(c.jsx)("div",{className:"enter-isi-book",children:Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:"Scan / Enter ISI Book Number"})}),Object(c.jsx)(k.a,{type:"text",ref:z,onKeyUp:function(e){"Enter"===e.key&&(Q(z.current.value),z.current.value="")}}),Object(c.jsx)(f.a.Append,{children:Object(c.jsx)(h.a,{onClick:function(){Q(z.current.value),z.current.value=""},variant:"outline-success",children:"Add"})})]})}),Object(c.jsx)("div",{className:"ag-theme-alpine",style:{width:"100%"},children:Object(c.jsx)(v.AgGridReact,{domLayout:"autoHeight",columnDefs:Y,rowData:V,animateRows:!0,onGridReady:function(e){L.current=e.api,L.current.sizeColumnsToFit(),L.current.setHeaderHeight(0)},gridOptions:{suppressNoRowsOverlay:!0},frameworkComponents:q})})]})}function B(){Object(a.useEffect)((function(){document.title="ISI Reports - Mona"}),[]);var e=Object(o.f)();return Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{proceed:"false",from:"/isimenu"}),Object(c.jsxs)("div",{id:"card-deck-set",children:[Object(c.jsx)(d.a,{children:Object(c.jsx)(u.a,{onClick:function(){e.push("isireport")},className:"card-list",style:{width:"18rem",cursor:"pointer"},children:Object(c.jsx)(u.a.Body,{children:Object(c.jsx)(u.a.Text,{children:"Stock In Safe"})})})}),Object(c.jsx)("br",{}),Object(c.jsx)(d.a,{children:Object(c.jsx)(u.a,{onClick:function(){e.push("isireport")},className:"card-list",style:{width:"18rem",cursor:"pointer"},children:Object(c.jsx)(u.a.Body,{children:Object(c.jsx)(u.a.Text,{children:"Sales Data"})})})}),Object(c.jsx)("br",{})]})]})}var D="",M=[];function A(){var e=Object(o.f)(),t=Object(a.useState)(new Date),n=Object(m.a)(t,2),i=(n[0],n[1],Object(a.useState)(!1)),r=Object(m.a)(i,2),s=(r[0],r[1],Object(a.useState)([])),l=Object(m.a)(s,2),d=l[0],u=(l[1],Object(a.useRef)());Object(a.useEffect)((function(){document.title="Sign Out ISI - Mona"}),[]);var j=[{headerName:"Book Number",field:"book_number",valueFormatter:function(e){return e.value.replace(/(\d{4})(\d{6})(\d{3})(\d{1})/,"$1-$2-$3\u2022$4")}},{headerName:"Ticket Value",field:"ticket_value"},{headerName:"Ticket Name",field:"ticket_name"},{headerName:"",field:"button_field",cellRenderer:"cellControlButtons",cellStyle:{"text-align":"right"}}],x={cellControlButtons:function(e){return Object(c.jsx)("span",{children:Object(c.jsx)(h.a,{variant:"outline-secondary",size:"sm",onClick:function(){var t=u.current.getDisplayedRowAtIndex(e.node.rowIndex).data.book_number;M=M.filter((function(e){return e.book_number!==t})),u.current.setRowData(M)},children:"Remove"})})}};function O(e){var t=/^[0-9]{4}/.exec(e);null!==t&&_.a.get("/api/isi-game-details/"+t[0]).then((function(e){return e.data.rows})).then((function(e){return e.map((function(e){return{ticket_value:e.ticket_value,ticket_name:e.ticket_name}}))})).then((function(t){M.push({book_number:e,ticket_name:t[0].ticket_name,ticket_value:t[0].ticket_value}),u.current.setRowData(M)})).catch((function(e){e.response.data.err_type}))}return Object(c.jsxs)("div",{children:[Object(c.jsxs)(b.a,{bg:"danger",className:"justify-content-between",children:[Object(c.jsx)(h.a,{variant:"dark",onClick:function(){e.push("/isimenu")},children:"Back"}),Object(c.jsx)(h.a,{variant:"success",onClick:null,children:"Receive Shipment"})]}),Object(c.jsx)("div",{className:"enter-isi-book",children:Object(c.jsxs)(f.a,{className:"mb-3",children:[Object(c.jsx)(f.a.Prepend,{children:Object(c.jsx)(f.a.Text,{children:"Scan / Enter ISI Book Number"})}),Object(c.jsx)(k.a,{type:"text",onKeyUp:function(e){D=e.target.value,"Enter"===e.key&&(O(D),e.target.value="")}}),Object(c.jsx)(f.a.Append,{children:Object(c.jsx)(h.a,{onClick:function(){O(D)},variant:"outline-success",children:"Add"})})]})}),Object(c.jsx)("div",{className:"ag-theme-alpine",style:{width:"100%"},children:Object(c.jsx)(v.AgGridReact,{domLayout:"autoHeight",columnDefs:j,rowData:d,animateRows:!0,onGridReady:function(e){u.current=e.api,u.current.sizeColumnsToFit(),u.current.setHeaderHeight(0)},gridOptions:{suppressNoRowsOverlay:!0},frameworkComponents:x})})]})}function F(){return Object(c.jsx)(l.a,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{exact:!0,path:"/",children:Object(c.jsx)(j,{})}),Object(c.jsx)(o.a,{exact:!0,path:"/isimenu",children:Object(c.jsx)(O,{})}),Object(c.jsx)(o.a,{exact:!0,path:"/isimanage",children:Object(c.jsx)(C,{})}),Object(c.jsx)(o.a,{exact:!0,path:"/isireceive",children:Object(c.jsx)(R,{})}),Object(c.jsx)(o.a,{exact:!0,path:"/isireport",children:Object(c.jsx)(B,{})}),Object(c.jsx)(o.a,{exact:!0,path:"/isisignout",children:Object(c.jsx)(A,{})})]})})})}var H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),H()},78:function(e,t,n){}},[[210,1,2]]]);
//# sourceMappingURL=main.425be594.chunk.js.map